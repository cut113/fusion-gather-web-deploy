(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{2332:function(e,r,t){Promise.resolve().then(t.bind(t,9288))},7145:function(e,r,t){"use strict";t.d(r,{Z:function(){return m}});var s=t(7437),a=t(2265),n=e=>{let{currentTime:r,isRunning:t}=e,[n,i]=(0,a.useState)(r);(0,a.useEffect)(()=>{if(!t)return;let e=setInterval(()=>{let[r,t]=n.split(":").map(Number);t>0?i("".concat(r.toString().padStart(2,"0"),":").concat((t-1).toString().padStart(2,"0"))):r>0?i("".concat((r-1).toString().padStart(2,"0"),":59")):clearInterval(e)},1e3);return()=>{clearInterval(e)}},[n,t]);let l=0===Number(n.split(":")[0])&&5>=Number(n.split(":")[1]);return(0,s.jsx)("div",{className:l?"text-rose-500":"text-secondary",children:n})},i=t(9882),l=t(8282),o=t(4033),c=t(1865),d=t(5925),u=t(2510),m=e=>{let{onSuccess:r,accountInfo:t,type:m}=e,f=(0,o.useRouter)(),[x,b]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!0),g=(0,a.useRef)([...Array(6)].map(()=>a.createRef()));console.log("check :",t);let{handleSubmit:y,control:j}=(0,c.cI)({defaultValues:{number1:"",number2:"",number3:"",number4:"",number5:"",number6:""}}),v=async e=>{b(!0);let s=Object.keys(e).sort().map(r=>e[r]).join("");try{if("reset"===m)await (0,l.YQ)(t,s)?(h(!1),r()):d.default.error("Failed!");else if("verifyCode"===m){let e=await (0,l.Jy)(t,s);console.log(">>>check Verification code:",e),404===e.status?d.default.error(null==e?void 0:e.message):(h(!1),d.default.success("Verified!"),f.push("/login"))}}catch(e){console.log(e)}finally{b(!1)}};return(0,s.jsxs)("form",{onSubmit:y(v),className:"flex flex-col gap-6 items-center relative",children:[(0,s.jsx)("div",{className:"absolute left-0 top-1 cursor-pointer",children:(0,s.jsx)(u.Wuc,{size:"28px"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-5",children:[(0,s.jsx)("h3",{className:"text-3xl font-bold",children:"Code Verification"}),(0,s.jsx)("span",{className:"font-medium text-lg text-secondary",children:"Enter the verification code we just sent on your email address."})]}),(0,s.jsx)("span",{className:"text-primary font-bold text-xl my-10",children:"The mail was sent succesfuly!"}),(0,s.jsx)("div",{className:"flex gap-5",children:[...Array(6)].map((e,r)=>(0,s.jsx)(c.Qr,{name:"number".concat(r+1),control:j,defaultValue:"",render:e=>{let{field:t,fieldState:a}=e;return(0,s.jsx)("input",{...t,maxLength:1,autoComplete:"off",className:"w-[43px] h-[43px] border-2 outline-none border-black rounded-md text-center font-bold text-2xl",autoFocus:0===r,ref:g.current[r],onChange:e=>{t.onChange(e),""!==e.target.value&&r<5&&g.current[r+1].current.focus()}})}},r))}),(0,s.jsxs)("div",{className:"flex gap-1 text-secondary text-sm mb-10",children:[(0,s.jsx)("span",{children:"The email will be resent in "}),(0,s.jsx)(n,{currentTime:"00:59",isRunning:p})]}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(i.Z,{disabled:x,fullWidth:!0,type:"submit",children:x?"loading...":"Confirm"})})]})}},9288:function(e,r,t){"use strict";t.r(r);var s=t(7437),a=t(9882),n=t(7523),i=t(1396),l=t.n(i),o=t(2265),c=t(1865),d=t(8110),u=t(1199),m=t(8282),f=t(5925),x=t(7145);r.default=()=>{let[e,r]=(0,o.useState)(!1),[t,i]=(0,o.useState)(!1),[b,p]=(0,o.useState)("");console.log(">>check accountInfo: ",b);let{register:h,handleSubmit:g,formState:{errors:y}}=(0,c.cI)({defaultValues:{firstName:"",lastName:"",email:"",username:"",password:"",phoneNumber:"",dob:""},resolver:(0,d.F)(u.IY)}),j=async e=>{r(!0);try{let r=await (0,m.av)(e);console.log("check res: ",r),404===r.statusCode?f.default.error(r.message):(f.default.success("Create account successfully!"),i(!0),p(null==r?void 0:r.username))}catch(e){console.log(e)}finally{r(!1)}};return(0,s.jsx)(s.Fragment,{children:t?(0,s.jsx)(x.Z,{accountInfo:b,type:"verifyCode"}):(0,s.jsxs)("form",{onSubmit:g(j),className:"flex flex-col gap-6 items-center",children:[(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:"text-4xl font-extrabold text-primary drop-shadow-lg shadow-black textShadow",children:"FusionGather"})}),(0,s.jsx)("h3",{className:"text-3xl font-medium",children:"Sign up"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(n.Z,{id:"firstName",label:"Fisrt Name",disabled:e,register:h,errors:y,required:!0}),(0,s.jsx)(n.Z,{id:"lastName",label:"Last Name",disabled:e,register:h,errors:y,required:!0})]}),(0,s.jsx)(n.Z,{id:"email",label:"Email",disabled:e,register:h,errors:y,required:!0}),(0,s.jsx)(n.Z,{id:"phoneNumber",label:"Phone Number",disabled:e,register:h,errors:y,required:!0}),(0,s.jsx)(n.Z,{id:"dob",label:"Date Of Birth",disabled:e,register:h,errors:y,required:!0}),(0,s.jsx)(n.Z,{id:"username",label:"Username",disabled:e,register:h,errors:y,required:!0}),(0,s.jsx)(n.Z,{disabled:e,register:h,errors:y,required:!0,id:"password",label:"Password",type:"password"}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(a.Z,{disabled:e,fullWidth:!0,type:"submit",children:e?"loading...":"Create Account"})}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center gap-5 text-secondary",children:(0,s.jsxs)("div",{className:"flex gap-1 items-center justify-center text-base px-2",children:[(0,s.jsx)("span",{children:"Already have an account?"}),(0,s.jsx)(l(),{className:"cursor-pointer font-semibold text-black hover:opacity-75",href:"/login",children:"Login"})]})})]})})}},9882:function(e,r,t){"use strict";var s=t(7437);r.Z=e=>{let{type:r="button",fullWidth:t,children:a,onClick:n,secondary:i,danger:l,disabled:o}=e;return(0,s.jsx)("button",{onClick:n,type:r,disabled:o,className:"flex justify-center rounded-md px-3 py-4 text-base font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 border-2 border-black hover:opacity-75    \n                ".concat(o&&"opacity-50 cursor-default","\n                ").concat(t&&"w-full","\n                ").concat(i?"text-gray-300":"text-black","\n                ").concat(l&&"bg-rose-500 hover:bg-rose-600 focus-visible:outline-rose-600","\n                ").concat(!i&&!l&&"bg-primary hover:opacity-50 ","\n            "),children:a})}},7523:function(e,r,t){"use strict";var s=t(7437);r.Z=e=>{var r;let{label:t,id:a,register:n,required:i,errors:l,type:o="text",disabled:c,width:d}=e;return(0,s.jsxs)("div",{className:"w-full relative",children:[(0,s.jsx)("input",{id:a,type:o,placeholder:"",autoComplete:"off",disabled:c,...n(a,{required:i}),className:"py-2 px-4 pt-6 outline-none  border-2 rounded-md transition disabled:opacity-70 disabled:cursor-not-allowed peer text-gray-600 bg-white font-light ".concat(l&&l[a]?"border-rose-400 focus:border-rose-400":"border-black focus:border-black"," ").concat(c&&"opacity-50 cursor-default","\n                ").concat(d||"w-full","\n                ")}),l&&l[a]&&(0,s.jsx)("p",{className:"text-sm text-rose-400",children:"".concat(null===(r=l[a])||void 0===r?void 0:r.message)}),(0,s.jsx)("label",{className:"absolute cursor-text text-md duration-150 transform -translate-y-3 top-5 z-10 origin-[0] left-4 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-4 ".concat(l&&l[a]?"text-rose-500":"text-secondary"),htmlFor:a,children:t})]})}},8282:function(e,r,t){"use strict";t.d(r,{Jy:function(){return i},Kd:function(){return l},YQ:function(){return o},av:function(){return n},oK:function(){return a}}),t(5355);var s=t(1162),a=(0,s.$)("d7b8cc64365f808a7dee612fc9770510ae2e6662"),n=(0,s.$)("3e44c9e2b1a4becc0f8720a2fa3a59f71401f742"),i=(0,s.$)("9deaccb1404872e083231e40dc7f36879ab07f0b"),l=(0,s.$)("c4c23d452408b7c5e20be2ce476465f76702ccca"),o=(0,s.$)("596863fdb9e996b48695be713a90ac6e74021014")},1199:function(e,r,t){"use strict";t.d(r,{Ag:function(){return i},IY:function(){return a},pj:function(){return n},zW:function(){return l}});var s=t(4578);let a=s.z.object({firstName:s.z.string().min(1,"FirstName is required!").min(2).max(30),lastName:s.z.string().min(1,"LastName is required!").min(2).max(30),email:s.z.string().min(1,"Email is required!").email(),username:s.z.string().min(1,"Username is required!").min(2).max(30),password:s.z.string().min(6,"The password must contain at least 6 characters."),dob:s.z.string().min(8,"Please enter DOB yyyy/mm/dd "),phoneNumber:s.z.string().regex(/^\d{10}$/,"Invalid Number!")}),n=s.z.object({username:s.z.string().min(1,"Username is required!").min(2).max(30),password:s.z.string().min(6,"The password must contain at least 6 characters.")}),i=s.z.object({newPassword:s.z.string().min(1,"Please enter your new password").min(6,"The password must contain at least 6 characters."),confirmPassword:s.z.string().min(1,"Please comfirm password.")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords do not match!",path:["confirmPassword"]}),l=s.z.object({email:s.z.string().min(1,"Email is required!").email()})}},function(e){e.O(0,[306,53,396,971,938,744],function(){return e(e.s=2332)}),_N_E=e.O()}]);